#N canvas 196 303 1153 861 12;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftdelay 512 float 3;
#A 0 87.5259 88.4035 89.2812 90.1588 91.0365 91.9141 92.7918 93.6695
94.228 94.7865 95.345 95.9035 96.462 97.0205 97.579 98.1375 98.696
99.2545 99.813 100.471 101.129 101.788 102.446 103.104 103.762 104.421
104.997 105.573 106.149 106.724 107.3 107.876 108.452 109.028 109.604
110.18 110.756 111.332 111.908 112.484 113.06 113.636 114.558 115.479
116.401 117.322 118.244 118.858 119.472 120.087 120.701 121.315 122.083
122.851 123.466 124.08 124.694 125.309 125.923 126.435 126.947 127.459
127.971 128.483 128.995 129.763 130.531 131.555 132.579 133.603 135.138
95.2053 95.3589 95.5125 95.6661 95.8197 95.9733 96.1269 96.2804 96.434
96.5876 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412 96.7412
96.7412 96.7412 96.7412 96.7412 96.7412 96.5218 96.3024 96.083 95.8636
95.6441 95.4247 95.2053 94.6294 94.0534 93.4774 92.9015 92.3255 91.7496
91.1736 90.5977 89.9833 89.3689 88.7546 88.1402 87.5259 86.9499 86.374
85.798 85.222 84.6461 84.0701 83.4942 82.9182 82.3039 81.6895 81.0751
80.4608 79.8464 79.2321 78.6177 78.0034 77.389 76.7747 76.1603 75.546
74.9316 74.3172 73.7029 72.679 71.655 70.6311 69.7096 68.788 67.8665
66.945 66.0234 65.7162 65.4091 65.1019 64.7947 64.4875 62.9517 58.344
57.3201 56.2961 55.2722 54.7603 54.2483 53.7363 53.122 52.5076 51.8933
51.2789 50.6646 49.8966 47.5928 46.9784 46.3641 45.7497 45.1354 44.521
44.329 44.137 43.945 43.7531 43.5611 43.3691 43.1771 42.9851 41.9612
40.9373 39.9133 39.6062 39.299 38.9918 38.6846 38.3774 37.7631 37.1487
36.5344 35.92 35.3057 35.3057 35.3057 34.9985 34.6913 34.3841 34.077
33.7698 33.5138 33.2578 33.0018 32.7458 32.4899 32.2339 31.4659 30.698
30.698 30.698 30.698 30.698 30.698 30.186 29.6741 29.1621 29.1621 27.6262
27.6262 27.6262 27.6262 27.6262 27.6262 27.1143 26.6023 26.0903 26.0903
26.0903 26.0903 26.0903 26.0903 25.7832 25.476 25.1688 24.8616 24.5544
24.5544 24.5544 24.5544 24.5544 24.5544 24.5544 24.5544 24.5544 23.7865
23.0186 23.0186 23.0186 23.0186 23.0186 23.0186 23.0186 23.0186 23.0186
23.0186 23.0186 23.0186 22.7114 22.4042 22.097 21.7898 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827 21.4827
21.4827 21.4827 21.1755 20.8683 20.5611 20.254 19.9468 19.9468 19.9468
19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468
19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468 19.9468
19.9468 19.6396 19.3324 19.0252 18.7181 18.4109 18.4109 18.4109 18.1037
17.7965 17.4894 17.1822 16.875 16.875 16.875 16.875 16.875 16.875 16.875
16.875 16.875 16.875 16.875 16.875 16.875 16.875 16.363 15.8511 15.3391
15.3391 15.3391 15.0319 14.7248 14.4176 14.1104 13.8032 13.8032 13.8032
13.8032 13.0353 12.2673 12.2673 12.2673 12.2673 12.2673 12.2673 12.2673
12.2673 12.2673 11.7554 11.2434 10.7314 10.7314 10.7314 10.2195 9.70752
9.19556 9.19556 9.19556 9.19556 9.19556 9.19556 9.19556 6.12378 21.4862
21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862
21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862
21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862 21.4862
1.52455 1.52455 1.52455 1.52455 1.52455 1.52455;
#X coords 0 215 511 -0.01 200 140 1 0 0;
#X restore 105 141 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftfb 512 float 3;
#A 0 0.401226 0.404833 0.40844 0.40947 0.410501 0.411532 0.412562 0.413593
0.414623 0.415654 0.416965 0.418277 0.419589 0.4209 0.422212 0.423524
0.424835 0.426147 0.427459 0.42877 0.430082 0.430804 0.431525 0.432246
0.432968 0.433689 0.434411 0.435132 0.435853 0.436575 0.437296 0.440182
0.443067 0.445953 0.448839 0.451724 0.451724 0.451724 0.451724 0.451724
0.451724 0.451724 0.451724 0.451724 0.451724 0.451724 0.451724 0.451724
0.451724 0.451724 0.451724 0.451724 0.451724 0.451724 0.455331 0.466152
0.466152 0.466152 0.466152 0.466152 0.466152 0.466152 0.466152 0.466152
0.468557 0.470962 0.473366 0.476973 0.480581 0.480581 0.480581 0.480581
0.480581 0.480581 0.480581 0.480581 0.480581 0.484188 0.487795 0.487795
0.487795 0.487795 0.487795 0.487795 0.487795 0.487795 0.487795 0.487795
0.487795 0.487795 0.487795 0.487795 0.487795 0.487795 0.487795 0.489237
0.49068 0.492123 0.493566 0.495009 0.495009 0.495009 0.495009 0.495009
0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009
0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009
0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009 0.495009
0.492604 0.490199 0.415654 0.40844 0.401226 0.39834 0.395455 0.392569
0.389683 0.386798 0.385896 0.384994 0.384092 0.383191 0.382289 0.381387
0.380485 0.379583 0.377419 0.375255 0.373091 0.370927 0.368762 0.366598
0.364434 0.36227 0.360106 0.357941 0.356499 0.355056 0.353613 0.35217
0.350727 0.348924 0.34712 0.345317 0.343513 0.34171 0.339906 0.338103
0.336299 0.333414 0.330528 0.327642 0.324757 0.321871 0.320067 0.318264
0.31646 0.314657 0.312853 0.31105 0.309246 0.307443 0.300229 0.293015
0.291572 0.290129 0.288686 0.287243 0.285801 0.284358 0.282915 0.281472
0.280029 0.278587 0.276182 0.273777 0.271373 0.268487 0.265601 0.262716
0.25983 0.256944 0.25454 0.252135 0.24973 0.248287 0.246845 0.245402
0.243959 0.242516 0.238909 0.228088 0.228088 0.228088 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446
0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.206446 0.204041
0.201636 0.199232 0.199232 0.199232 0.199232 0.199232 0.199232 0.196827
0.194422 0.184804 0.184804 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759
0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.17759 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795 0.184795
0.184795 0.054942;
#X coords 0 1 511 -0.01 200 140 1 0 0;
#X restore 105 316 graph;
#X text 39 765 fftdelay specifies delays in multiples of blocks;
#X obj 558 549 - 1;
#X msg 548 413 1024;
#X obj 501 257 loadbang;
#X obj 540 381 moses 1e-20;
#X obj 540 454 pdkvabs/dknearpow2;
#X obj 543 503 / 2;
#X obj 527 349 f \$1;
#X text 37 794 given overlap of 4 \, length of possible delay is delayline/4
;
#X text 36 819 rounded down to the nearest block size increment;
#X obj 724 383 f \$2;
#X obj 803 437 samplerate~;
#X obj 803 475 / 1000;
#X obj 508 294 t b b b b, f 26;
#X obj 724 408 / 4;
#X obj 796 515 /;
#X obj 754 525 /;
#X text 837 507 blocksize/samprate in ms;
#X text 844 537 = blocksize in ms;
#X obj 489 589 pack \$0 f f f, f 36;
#X obj 762 561 i;
#X text 27 71 args: fft blocksize \, max delay * 4;
#X msg 489 618 \; \$1-ezfftdelay resize \$2 \; \$1-ezfftfb resize \$2
\; \$1-ezfftdelay bounds 0 \$4 \$3 -0.01 \; \$1-ezfftfb bounds 0 1
\$3 -0.01 \; \$1-ezfftdelay xticks 0 128 4 \; \$1-ezfftdelay yticks
0 25 4 \; \$1-ezfftfb xticks 0 128 4 \; \$1-ezfftfb yticks 0 0.1 5
\;;
#X text 102 280 0;
#X text 281 283 22K;
#X obj 312 319 vsl 15 128 0 1 0 0 empty \$0-ezfftfbslid fb 0 -9 0 10
-262144 -1 -1 0 1;
#X floatatom 312 455 5 0 0 0 - - -, f 5;
#X obj 317 145 vsl 15 128 0 215 0 0 empty \$0-ezfftdelslid delay 0
-9 0 10 -262144 -1 -1 0 1;
#X floatatom 317 281 5 0 0 0 - - -, f 5;
#X obj 814 665 s \$0-ezfftdelslid;
#X msg 891 627 range 0 \$1;
#X msg 813 625 0;
#X obj 837 586 t f f;
#X msg 398 346 0;
#X msg 391 415 const \$1;
#X obj 391 440 s \$0-ezfftfb;
#X msg 429 125 const \$1;
#X obj 421 158 s \$0-ezfftdelay;
#X obj 160 9 inlet~;
#X obj 256 121 tgl 15 0 empty empty bypass 17 7 0 10 -262144 -1 -1
0 1;
#X text 971 140 pdkez;
#X text 973 108 derek kwan;
#X text 973 175 gpl v 3 2017;
#X obj 1010 17 inlet;
#X text 1067 13 bypass;
#X obj 392 16 inlet;
#X obj 540 20 inlet;
#X text 224 11 sig;
#X obj 37 681 pdkvabs/dkswitch2~;
#X obj 37 706 outlet~;
#X text 446 19 del list;
#X text 592 21 overall del;
#X obj 714 14 inlet;
#X obj 852 17 inlet;
#X text 768 17 fb list;
#X text 904 18 overall fb;
#X text 24 41 dkezspectdelayM~;
#X obj 38 622 dkezfftdelay_h~ \$0 \$2;
#X msg 456 364 0;
#X obj 225 535 == 0;
#X connect 3 0 21 2;
#X connect 4 0 7 0;
#X connect 5 0 15 0;
#X connect 6 0 4 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 7 0 17 0;
#X connect 7 0 59 2;
#X connect 8 0 3 0;
#X connect 8 0 21 1;
#X connect 9 0 6 0;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 17 1;
#X connect 14 0 59 1;
#X connect 15 0 21 0;
#X connect 15 0 60 0;
#X connect 15 1 12 0;
#X connect 15 1 35 0;
#X connect 15 2 9 0;
#X connect 15 3 13 0;
#X connect 16 0 18 0;
#X connect 17 0 18 1;
#X connect 18 0 22 0;
#X connect 21 0 24 0;
#X connect 22 0 21 3;
#X connect 22 0 34 0;
#X connect 27 0 28 0;
#X connect 27 0 36 0;
#X connect 29 0 30 0;
#X connect 29 0 38 0;
#X connect 32 0 31 0;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 34 1 32 0;
#X connect 35 0 27 0;
#X connect 36 0 37 0;
#X connect 38 0 39 0;
#X connect 40 0 50 1;
#X connect 40 0 59 0;
#X connect 41 0 50 2;
#X connect 41 0 61 0;
#X connect 45 0 41 0;
#X connect 47 0 39 0;
#X connect 48 0 29 0;
#X connect 50 0 51 0;
#X connect 54 0 37 0;
#X connect 55 0 27 0;
#X connect 59 0 50 0;
#X connect 60 0 41 0;
#X connect 61 0 59 3;
#X coords 0 -1 1 1 260 375 1 100 100;
