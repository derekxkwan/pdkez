#N canvas 1216 296 1251 849 12;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftdelay 512 float 3;
#A 0 76.4273 70.8854 36.6794 37.0616 37.4438 37.5203 37.5967 79.483
79.3302 79.1773 79.0244 78.8715 78.7186 78.5658 78.4129 78.26 78.1071
77.9542 77.9542 77.9542 77.9542 77.9542 77.9542 77.9542 77.9542 77.9542
77.8587 77.7631 77.6676 77.572 77.4765 77.3809 77.2854 77.1898 77.1898
23.6851 23.6851 23.6851 23.6851 23.6851 23.6851 23.838 23.9909 24.1438
24.2966 24.4495 24.5451 24.6406 24.7362 24.8317 24.9273 25.0228 25.1184
25.2139 25.405 25.5961 25.7872 25.9783 26.1694 26.3605 26.5516 26.7427
26.8701 26.9975 27.1249 27.2523 27.3797 27.5071 27.6345 27.7619 27.8893
28.0167 28.1441 28.2715 28.4105 28.5495 28.6885 28.8275 28.9664 29.1054
29.2444 29.3834 29.5224 29.6614 29.8003 29.9352 30.0701 30.205 30.3399
30.4748 30.6097 30.7446 30.8795 31.0144 31.1493 31.2842 31.4191 31.554
31.6889 31.8238 31.9587 32.0936 32.2847 32.4758 32.6669 32.858 33.0491
33.2402 33.4313 33.6224 33.8135 34.0046 34.1957 34.3868 34.5779 34.769
34.9601 35.1512 35.355 35.5588 35.7627 35.9665 36.1704 36.3742 36.5781
36.7819 36.9857 37.1896 37.3934 37.5973 37.8011 38.005 38.2088 38.5028
38.7968 39.0908 39.3848 39.6788 39.9728 40.2668 40.5608 40.8548 41.1488
41.4428 41.7368 42.0308 42.266 42.5012 42.7364 42.9716 43.2068 43.442
43.6772 43.9124 44.1476 44.3828 44.618 44.8532 45.0884 45.3942 45.6999
46.0057 46.3115 73.3714 72.9892 72.607 73.3683 73.3683 73.3683 73.3683
73.4775 73.5867 73.6959 73.8051 73.9143 74.0235 74.1327 74.2856 74.4385
74.5913 74.7442 74.8971 75.0882 75.2793 75.4704 75.6615 75.8526 76.0437
76.2348 76.4259 76.5215 76.617 76.7126 76.8081 76.9037 76.9992 77.0948
77.1903 77.2668 77.3432 77.4196 77.4961 77.5725 77.649 77.7254 77.8018
77.8783 77.9547 78.0503 78.1458 78.2414 78.3369 78.4325 78.528 78.6236
78.7191 78.7956 78.872 78.9484 79.0249 79.1013 79.1778 79.2542 79.3306
79.4071 79.4835 79.4835 79.4835 79.4835 79.4835 79.4835 79.4835 79.4835
79.4835 79.4835 79.4835 79.6364 79.7893 79.9422 80.095 80.2479 80.2479
80.2479 80.2479 62.0561 61.9033 61.7122 61.5211 61.33 61.1389 50.4365
49.9778 49.5192 49.0606 48.6019 48.1433 59.4572 59.1514 58.8456 58.6928
58.5399 58.387 58.2341 58.0812 57.7755 57.4697 57.1639 56.8582 56.5524
35.9143 32.0923 62.1894 62.2849 62.3805 62.476 62.5716 62.6671 62.7763
62.8855 62.9947 63.1039 63.2131 63.3223 63.4315 63.5844 63.7373 63.8902
64.0431 64.196 64.4508 64.7056 64.9604 43.4031 43.556 43.7088 43.8617
44.0146 44.1675 44.3204 44.4593 44.5983 44.7373 44.8763 45.0153 45.1542
45.2932 45.4322 45.5712 45.7102 40.5013 45.9256 46.002 46.0785 46.1549
46.2314 46.3078 46.3842 46.4607 46.5371 46.6136 46.832 47.0504 47.2688
47.4872 47.7056 47.924 48.1424 48.2814 48.4203 48.5593 48.6983 48.8373
87.8911 49.1152 49.2542 49.3932 49.5322 49.6712 49.7804 49.8896 49.9988
50.108 50.2172 50.3264 50.4356 50.6904 50.9452 51.2 82.3899 82.2879
82.186 82.0841 81.9822 81.8802 81.7783 81.5235 81.2687 81.0139 80.7591
80.5043 80.2495 79.9947 79.7399 79.4851 79.2303 78.9755 78.7207 78.466
78.2112 77.9564 77.7016 77.4468 77.192 76.9053 76.6186 76.332 76.0453
75.7587 75.472 75.1853 74.8987 73.9814 73.0641 72.1469 71.2296 70.3123
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 107 511 -0.01 200 140 1 0 0;
#X restore 54 139 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftfb 512 float 3;
#A 0 0.509429 0.511833 0.514238 0.516643 0.52025 0.523858 0.523858
0.523858 0.523858 0.523858 0.523858 0.525301 0.526743 0.528186 0.529629
0.531072 0.642895 0.639288 0.638386 0.637484 0.636583 0.635681 0.634779
0.633877 0.632975 0.632074 0.630631 0.629188 0.627745 0.626302 0.624859
0.621973 0.619087 0.616202 0.613316 0.61043 0.61043 0.61043 0.61043
0.606823 0.603215 0.60081 0.598406 0.596001 0.596001 0.596001 0.593596
0.591191 0.588786 0.585179 0.581572 0.581572 0.581572 0.581572 0.580129
0.578686 0.577243 0.5758 0.574357 0.266547 0.268952 0.271357 0.271357
0.660929 0.663333 0.665738 0.668143 0.668143 0.668143 0.669586 0.671029
0.293 0.293 0.293 0.293 0.289392 0.285785 0.285785 0.285785 0.884572
0.886977 0.889382 0.891787 0.895394 0.899001 0.901406 0.903811 0.906216
0.693394 0.697002 0.697002 0.697002 0.697002 0.698444 0.699887 0.70133
0.702773 0.704216 0.707823 0.711431 0.713835 0.71624 0.718645 0.718645
0.718643 0.718643 0.718643 0.718643 0.718643 0.242499 0.252119 0.254524
0.256929 0.712871 0.711428 0.709985 0.708542 0.7071 0.705657 0.704214
0.703312 0.70241 0.701508 0.700606 0.300213 0.301656 0.303099 0.304542
0.305985 0.307428 0.307428 0.307428 0.307428 0.307428 0.307428 0.30863
0.309833 0.311035 0.312238 0.31344 0.314642 0.314642 0.314642 0.314642
0.314642 0.314642 0.314642 0.314642 0.314642 0.314642 0.314642 0.31825
0.321857 0.321857 0.321857 0.321857 0.321857 0.321857 0.324262 0.326667
0.329071 0.637842 0.634956 0.63207 0.627742 0.623413 0.619084 0.614756
0.610427 0.607804 0.60518 0.451721 0.449717 0.447713 0.445709 0.443705
0.441701 0.439697 0.437693 0.435689 0.433685 0.431681 0.429676 0.427672
0.425668 0.423664 0.42166 0.419656 0.417652 0.415648 0.413844 0.412041
0.410237 0.408433 0.40663 0.404826 0.403023 0.401219 0.399415 0.397612
0.395808 0.394004 0.392201 0.390397 0.388593 0.38679 0.384986 0.383183
0.381379 0.379575 0.377772 0.375968 0.374164 0.372361 0.370557 0.368753
0.36695 0.365146 0.363343 0.361539 0.359735 0.357932 0.356128 0.354324
0.352521 0.350717 0.348553 0.346388 0.344224 0.34206 0.339895 0.337731
0.335567 0.333402 0.331238 0.935071 0.935071 0.935071 0.935071 0.931464
0.927857 0.926414 0.924971 0.923528 0.922085 0.920642 0.918839 0.917035
0.915231 0.913428 0.911624 0.90982 0.908017 0.906213 0.291558 0.290115
0.288672 0.287229 0.285786 0.282179 0.278572 0.271357 0.271357 0.271357
0.548387 0.545501 0.543096 0.540691 0.538286 0.534679 0.531072 0.521453
0.519048 0.516643 0.259814 0.258371 0.256928 0.559929 0.559929 0.509416
0.509416 0.509416 0.509416 0.509416 0.509416 0.509416 0.509416 0.509416
0.509416 0.509416 0.509416 0.509416 0.509416 0.466148 0.463743 0.461338
0.458933 0.451718 0.444504 0.441618 0.438732 0.435846 0.432961 0.430075
0.42286 0.415646 0.408431 0.401217 0.394002 0.389192 0.384383 0.494998
0.361537 0.357929 0.341095 0.338691 0.336286 0.509416 0.509416 0.509416
0.509416 0.509416 0.141485 0.130663 0.119841 0.110222 0.100602 0.090983
0.0801612 0.011623 0.0693368 0.0693368 0.0621223 0.264134 0.264134
0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134
0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134
0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134 0.264134
0.264134 0.264134 0.271348 0.278563 0.285777 0.288663 0.291549 0.294435
0.29732 0.300206 0.305978 0.31175 0.317521 0.323293 0.329064 0.443054
0.441611 0.440168 0.438726 0.437283 0.43584 0.434397 0.432954 0.431511
0.430068 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178
0.0116178 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178
0.0116178 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178 0.0116178
0.0116178 0.0116178 0.0116178 0.0152251 0.0188324 0.0236421 0.0284518
0.040476 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0;
#X coords 0 1 511 -0.01 200 140 1 0 0;
#X restore 54 314 graph;
#X text 39 765 fftdelay specifies delays in multiples of blocks;
#X text 37 794 given overlap of 4 \, length of possible delay is delayline/4
;
#X text 36 819 rounded down to the nearest block size increment;
#X text 51 278 0;
#X text 230 281 22K;
#X obj 258 317 vsl 25 128 0 1 0 0 empty \$0-ezfftfbslid fb 0 -9 0 12
-262144 -1 -1 0 1;
#X floatatom 258 453 5 0 0 0 - - -, f 5;
#X obj 263 143 vsl 25 128 0 107 0 0 empty \$0-ezfftdelslid delay 0
-9 0 12 -262144 -1 -1 0 1;
#X floatatom 263 279 5 0 0 0 - - -, f 5;
#X msg 436 275 0;
#X msg 391 415 const \$1;
#X obj 391 440 s \$0-ezfftfb;
#X msg 429 125 const \$1;
#X obj 421 158 s \$0-ezfftdelay;
#X obj 160 9 inlet~;
#X obj 206 119 tgl 15 0 empty \$0-ezspectdelay_bypass_r bypass 17 7
0 12 -262144 -1 -1 0 1;
#X text 903 195 pdkez;
#X text 905 163 derek kwan;
#X obj 779 44 inlet;
#X text 933 40 bypass;
#X text 224 11 sig;
#X obj 37 681 pdkvabs/dkswitch2~;
#X obj 37 706 outlet~;
#X msg 388 275 0;
#X obj 234 541 == 0;
#X obj 38 622 pdkvabs/dkfftdelay~ \$1 \$2 \$0-ezfftdelay \$0-ezfftfb
, f 100;
#X msg 453 551 samplerate \$1;
#X text 905 230 gpl v 3 2018;
#X obj 576 120 s \$0-ezspectdelay_dry_r;
#X obj 607 94 s \$0-ezspectdelay_wet_r;
#X obj 785 86 s \$0-ezspectdelay_bypass_r;
#X obj 586 500 r \$0-ezspectdelay_dry;
#X msg 586 524 dry \$1;
#X obj 767 500 r \$0-ezspectdelay_wet;
#X msg 767 524 wet \$1;
#X obj 396 218 loadbang;
#N canvas 114 338 828 635 \$0-ezfftdelay_defaults 0;
#X obj 310 538 outlet;
#X text 369 539 samplerate;
#X obj 43 549 outlet;
#X text 96 545 fftsize;
#X obj 107 322 - 1;
#X msg 97 186 1024;
#X obj 50 30 loadbang;
#X obj 89 154 moses 1e-20;
#X obj 89 227 pdkvabs/dknearpow2;
#X obj 92 276 / 2;
#X obj 76 122 f \$1;
#X obj 273 156 f \$2;
#X obj 334 214 samplerate~;
#X obj 352 248 / 1000;
#X obj 273 181 / 4;
#X obj 345 288 /;
#X obj 303 298 /;
#X text 377 292 blocksize/samprate in ms;
#X text 384 322 = blocksize in ms;
#X obj 38 362 pack \$0 f f f, f 36;
#X obj 311 334 i;
#X obj 363 496 s \$0-ezfftdelslid;
#X msg 422 437 range 0 \$1;
#X msg 362 398 0;
#X obj 386 359 t f f;
#X obj 461 386 max 1;
#X msg 38 391 \; \$1-ezfftdelay resize \$2 \; \$1-ezfftfb resize \$2
\; \$1-ezfftdelay bounds 0 \$4 \$3 -0.01 \; \$1-ezfftfb bounds 0 1
\$3 -0.01 \; \$1-ezfftdelay xticks 0 128 4 \; \$1-ezfftdelay yticks
0 25 4 \; \$1-ezfftfb xticks 0 128 4 \; \$1-ezfftfb yticks 0 0.1 5
\;;
#X obj 574 132 f \$3;
#X obj 574 156 moses 1e-20;
#X obj 703 136 f \$4;
#X text 621 134 dry;
#X text 739 130 wet;
#X obj 498 230 pack \$0 f f, f 33;
#X obj 57 67 t b b b b b b b, f 93;
#X msg 562 269 \; \$1-ezspectdelay_dry_r \$2 \; \$1-ezspectdelay_wet_r
\$3 \;;
#X msg 574 180 1;
#X obj 703 160 moses 1e-20;
#X msg 703 184 0.5;
#X connect 4 0 19 2;
#X connect 5 0 8 0;
#X connect 6 0 33 0;
#X connect 7 0 5 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 8 0 15 0;
#X connect 8 0 2 0;
#X connect 9 0 4 0;
#X connect 9 0 19 1;
#X connect 10 0 7 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 12 0 0 0;
#X connect 13 0 15 1;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 20 0;
#X connect 19 0 26 0;
#X connect 20 0 19 3;
#X connect 20 0 24 0;
#X connect 22 0 21 0;
#X connect 23 0 21 0;
#X connect 24 0 23 0;
#X connect 24 1 25 0;
#X connect 25 0 22 0;
#X connect 27 0 28 0;
#X connect 28 0 35 0;
#X connect 28 1 32 1;
#X connect 29 0 36 0;
#X connect 32 0 34 0;
#X connect 33 0 19 0;
#X connect 33 1 11 0;
#X connect 33 2 10 0;
#X connect 33 3 12 0;
#X connect 33 4 32 0;
#X connect 33 5 27 0;
#X connect 33 6 29 0;
#X connect 35 0 32 1;
#X connect 36 0 37 0;
#X connect 36 1 32 2;
#X connect 37 0 32 2;
#X restore 381 497 pd \$0-ezfftdelay_defaults;
#X obj 410 733 pdkvabs/dkswitch2~;
#X obj 410 758 outlet~;
#X obj 268 13 inlet~;
#X text 24 41 dkezspectdelayS~;
#X text 320 18 sig;
#X obj 306 143 vsl 25 128 0 1 0 0 \$0-ezspectdelay_dry \$0-ezspectdelay_dry_r
dry 0 -9 0 12 -262144 -1 -1 12700 1;
#X floatatom 306 279 5 0 0 0 - - -, f 5;
#X obj 303 314 vsl 25 128 0 1 0 0 \$0-ezspectdelay_wet \$0-ezspectdelay_wet_r
wet 0 -9 0 12 -262144 -1 -1 7400 1;
#X floatatom 303 450 5 0 0 0 - - -, f 5;
#X text 27 71 args: fft blocksize \, max delay * 4 \, dry (1) \, wet
(0.5);
#X obj 411 674 pdkvabs/dkfftdelay~ \$1 \$2 \$0-ezfftdelay \$0-ezfftfb
, f 100;
#X msg 1018 478 clear;
#X obj 150 118 bng 15 250 50 0 \$0-ezspectdelay_clear empty clear 17
7 0 12 -262144 -1 -1;
#X obj 1021 427 r \$0-ezspectdelay_clear;
#X obj 419 13 inlet;
#X obj 419 37 route del dellist fb fblist dry wet bypass;
#X connect 7 0 8 0;
#X connect 7 0 12 0;
#X connect 9 0 10 0;
#X connect 9 0 14 0;
#X connect 11 0 7 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 16 0 23 1;
#X connect 16 0 27 0;
#X connect 17 0 23 2;
#X connect 17 0 26 0;
#X connect 17 0 39 2;
#X connect 20 0 32 0;
#X connect 23 0 24 0;
#X connect 25 0 17 0;
#X connect 26 0 27 2;
#X connect 26 0 49 2;
#X connect 27 0 23 0;
#X connect 28 0 27 3;
#X connect 28 0 49 3;
#X connect 33 0 34 0;
#X connect 34 0 27 3;
#X connect 34 0 49 3;
#X connect 35 0 36 0;
#X connect 36 0 27 3;
#X connect 36 0 49 3;
#X connect 37 0 25 0;
#X connect 37 0 11 0;
#X connect 38 0 27 1;
#X connect 38 0 49 1;
#X connect 38 1 28 0;
#X connect 39 0 40 0;
#X connect 41 0 39 1;
#X connect 41 0 49 0;
#X connect 44 0 45 0;
#X connect 46 0 47 0;
#X connect 49 0 39 0;
#X connect 50 0 27 3;
#X connect 50 0 49 3;
#X connect 52 0 50 0;
#X connect 53 0 54 0;
#X connect 54 0 9 0;
#X connect 54 1 15 0;
#X connect 54 2 7 0;
#X connect 54 3 13 0;
#X connect 54 4 30 0;
#X connect 54 5 31 0;
#X connect 54 6 32 0;
#X coords 0 -1 1 1 300 375 1 50 100;
