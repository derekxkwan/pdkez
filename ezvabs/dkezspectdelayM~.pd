#N canvas 790 465 1153 861 12;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftdelay 512 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0.00792857 -0.00791428 -0.0079 -0.00788571
-0.00787143 -0.00785714 -0.00784286 -0.00782857 -0.00781429 -0.0078
-0.00778571 -0.00778571 -0.00778571 -0.00778571 -0.00778571 -0.00778571
-0.00778571 -0.00778571 -0.00778571 -0.00778571 -0.00778571 -0.00777679
-0.00776786 -0.00775893 -0.00775 -0.00774107 -0.00773214 -0.00772321
-0.00771428 -0.0077 -0.00768571 -0.00767143 -0.00765714 -0.00764286
-0.00762857 -0.00761428 -0.0076 -0.00758571 -0.00757143 -0.00756044
-0.00754945 -0.00753846 -0.00752747 -0.00751648 -0.00750549 -0.00749451
-0.00748352 -0.00747253 -0.00746154 -0.00745055 -0.00743956 -0.00742857
-0.00742857 -0.00742857 -0.00742857 -0.00742857 -0.00742857 -0.00742857
-0.00742857 -0.00742857 -0.00742857 -0.00742857 -0.00742857 -0.00742857
-0.00742857 -0.007425 -0.00742143 -0.00741786 -0.00741429 -0.00741072
-0.00740714 -0.00740357 -0.0074 -0.00739643 -0.00739286 -0.00738929
-0.00738571 -0.00738214 -0.00737857 -0.007375 -0.00737143 -0.00736786
-0.00736429 -0.00736071 -0.00735714 -0.00734821 -0.00733928 -0.00733036
-0.00732143 -0.0073125 -0.00730357 -0.00729464 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571 -0.00728571
-0.00728571;
#X coords 0 0 511 -0.01 200 140 1 0 0;
#X restore 105 141 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-ezfftfb 512 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0;
#X coords 0 1 511 -0.01 200 140 1 0 0;
#X restore 105 316 graph;
#X text 39 765 fftdelay specifies delays in multiples of blocks;
#X obj 558 549 - 1;
#X msg 548 413 1024;
#X obj 501 257 loadbang;
#X obj 540 381 moses 1e-20;
#X obj 540 454 pdkvabs/dknearpow2;
#X obj 543 503 / 2;
#X obj 527 349 f \$1;
#X text 37 794 given overlap of 4 \, length of possible delay is delayline/4
;
#X text 36 819 rounded down to the nearest block size increment;
#X obj 724 383 f \$2;
#X obj 803 437 samplerate~;
#X obj 803 475 / 1000;
#X obj 508 294 t b b b b, f 26;
#X obj 724 408 / 4;
#X obj 796 515 /;
#X obj 754 525 /;
#X text 837 507 blocksize/samprate in ms;
#X text 844 537 = blocksize in ms;
#X obj 489 589 pack \$0 f f f, f 36;
#X obj 762 561 i;
#X text 27 71 args: fft blocksize \, max delay * 4;
#X msg 489 618 \; \$1-ezfftdelay resize \$2 \; \$1-ezfftfb resize \$2
\; \$1-ezfftdelay bounds 0 \$4 \$3 -0.01 \; \$1-ezfftfb bounds 0 1
\$3 -0.01 \; \$1-ezfftdelay xticks 0 128 4 \; \$1-ezfftdelay yticks
0 25 4 \; \$1-ezfftfb xticks 0 128 4 \; \$1-ezfftfb yticks 0 0.1 5
\;;
#X text 102 280 0;
#X text 281 283 22K;
#X obj 312 319 vsl 15 128 0 1 0 0 empty \$0-ezfftfbslid fb 0 -9 0 10
-262144 -1 -1 0 1;
#X floatatom 312 455 5 0 0 0 - - -, f 5;
#X obj 317 145 vsl 15 128 0 0 0 0 empty \$0-ezfftdelslid delay 0 -9
0 10 -262144 -1 -1 -2.14748e+09 1;
#X floatatom 317 281 5 0 0 0 - - -, f 5;
#X obj 814 665 s \$0-ezfftdelslid;
#X msg 891 627 range 0 \$1;
#X msg 813 625 0;
#X obj 837 586 t f f;
#X msg 398 346 0;
#X msg 391 415 const \$1;
#X obj 391 440 s \$0-ezfftfb;
#X msg 429 125 const \$1;
#X obj 421 158 s \$0-ezfftdelay;
#X obj 160 9 inlet~;
#X obj 256 121 tgl 15 0 empty empty bypass 17 7 0 10 -262144 -1 -1
0 1;
#X text 971 140 pdkez;
#X text 973 108 derek kwan;
#X text 973 175 gpl v 3 2017;
#X obj 1010 17 inlet;
#X text 1067 13 bypass;
#X obj 392 16 inlet;
#X obj 540 20 inlet;
#X text 224 11 sig;
#X obj 37 681 pdkvabs/dkswitch2~;
#X obj 37 706 outlet~;
#X text 446 19 del list;
#X text 592 21 overall del;
#X obj 714 14 inlet;
#X obj 852 17 inlet;
#X text 768 17 fb list;
#X text 904 18 overall fb;
#X text 24 41 dkezspectdelayM~;
#X msg 456 364 0;
#X obj 225 535 == 0;
#X obj 38 622 pdkvabs/dkfftdelay~ \$1 \$2 \$0-ezfftdelay \$0-ezfftfb
;
#X msg 397 561 samplerate \$1;
#X connect 3 0 21 2;
#X connect 4 0 7 0;
#X connect 5 0 15 0;
#X connect 6 0 4 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 7 0 17 0;
#X connect 7 0 61 1;
#X connect 8 0 3 0;
#X connect 8 0 21 1;
#X connect 9 0 6 0;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 13 0 62 0;
#X connect 14 0 17 1;
#X connect 15 0 21 0;
#X connect 15 0 59 0;
#X connect 15 1 12 0;
#X connect 15 1 35 0;
#X connect 15 2 9 0;
#X connect 15 3 13 0;
#X connect 16 0 18 0;
#X connect 17 0 18 1;
#X connect 18 0 22 0;
#X connect 21 0 24 0;
#X connect 22 0 21 3;
#X connect 22 0 34 0;
#X connect 27 0 28 0;
#X connect 27 0 36 0;
#X connect 29 0 30 0;
#X connect 29 0 38 0;
#X connect 32 0 31 0;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 34 1 32 0;
#X connect 35 0 27 0;
#X connect 36 0 37 0;
#X connect 38 0 39 0;
#X connect 40 0 50 1;
#X connect 40 0 61 0;
#X connect 41 0 50 2;
#X connect 41 0 60 0;
#X connect 45 0 41 0;
#X connect 47 0 39 0;
#X connect 48 0 29 0;
#X connect 50 0 51 0;
#X connect 54 0 37 0;
#X connect 55 0 27 0;
#X connect 59 0 41 0;
#X connect 60 0 61 2;
#X connect 61 0 50 0;
#X connect 62 0 61 3;
#X coords 0 -1 1 1 260 375 1 100 100;
